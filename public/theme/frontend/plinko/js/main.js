(()=>{"use strict";var t,i={338:(t,i,o)=>{var e=o(35);const n=function(){function t(t){this._images={ball_black:"theme/frontend/plinko/assets/images/ball_black.png",ball_green:"theme/frontend/plinko/assets/images/ball_xanh.png",ball:"theme/frontend/plinko/assets/images/ball1.png",light:"theme/frontend/plinko/assets/images/light.png",bg:"theme/frontend/plinko/assets/images/bg.jpg",hole:"theme/frontend/plinko/assets/images/hole.png",panel:"theme/frontend/plinko/assets/images/panel.png"},this.P5=t}return t.prototype.loadImages=function(){for(var i=0,o=Object.entries(this._images);i<o.length;i++){var e=o[i],n=e[0],s=e[1],r=this.P5.loadImage(s);t.images[n]=r}},t.getImage=function(i){return t.images[i]},t.images={},t}(),s=function(){function t(){}return t.P5=null,t.APP={WIDTH:550,HEIGHT:580,TOPBUFFER:50,SHOW_BODY:!1,DEMO:!1},t.HOLE={DROP_POSITION_X:t.APP.WIDTH/2,DROP_POSITION_Y:t.APP.TOPBUFFER-10},t.PEG={spacing:30,rows:17,radius:2},t.DISC={x:t.HOLE.DROP_POSITION_X,y:t.HOLE.DROP_POSITION_Y,prices:{0:1e3,1:1e4,2:1e5},tolerance:1,radius:(t.PEG.spacing-2*t.PEG.radius-3)/2,real_width:function(){return 2*t.DISC.radius},image_ball_width:29,image_ball_height:29,image_width:39,image_height:39,image_ratio:function(){return t.DISC.image_ball_width/t.DISC.image_width},translate_x:function(){return(t.DISC.image_width-t.DISC.image_ball_width)/2},translate_y:function(){return(t.DISC.image_height-t.DISC.image_ball_height)/2},draw_width:function(){return t.DISC.real_width()/t.DISC.image_ratio()}},t.WALL={height:1,funnel_width:5},t.BAG={topBufferFromPeg:30,heightBody:10,texts:[1e3,500,100,10,5,1.1,1,.5,.1,.5,1,1.1,5,10,100,500,1e3],colors:[[255,50,0],[255,100,0],[255,150,0],[255,200,0],[255,255,0],[200,255,0],[150,255,0],[100,255,0],[50,255,0],[100,255,0],[150,255,0],[200,255,0],[255,255,0],[255,200,0],[255,150,0],[255,100,0],[255,50,0]],path:[{x:78.41999816894531,y:1},{x:78.81401062011719,y:3.4272117614746094},{x:79.12202453613281,y:5.866900444030762},{x:79.36260223388672,y:8.314196586608887},{x:79.54679870605469,y:10.766397476196289},{x:79.68211364746094,y:13.221792221069336},{x:79.77305603027344,y:15.67923641204834},{x:79.82268524169922,y:18.13786506652832},{x:79.83242797851562,y:20.596975326538086},{x:79.80254364013672,y:23.055925369262695},{x:79.73239135742188,y:25.514053344726562},{x:79.61969757080078,y:27.970590591430664},{x:79.46099090576172,y:30.42458152770996},{x:79.2506103515625,y:32.87466812133789},{x:78.97956085205078,y:35.31877136230469},{x:78.63398742675781,y:37.75339889526367},{x:77.2433853149414,y:39.20463943481445},{x:74.80841064453125,y:39.54740905761719},{x:72.36260223388672,y:39.802310943603516},{x:69.91043090820312,y:39.98651885986328},{x:67.45458984375,y:40.1134147644043},{x:64.99678802490234,y:40.193912506103516},{x:62.538021087646484,y:40.23689651489258},{x:60.078914642333984,y:40.24994659423828},{x:57.619781494140625,y:40.23978042602539},{x:55.16078186035156,y:40.21240234375},{x:52.701934814453125,y:40.173370361328125},{x:50.24319076538086,y:40.12825393676758},{x:47.78445816040039,y:40.08246612548828},{x:45.32564163208008,y:40.04153823852539},{x:42.866676330566406,y:40.01167297363281},{x:40.407554626464844,y:40.00000762939453},{x:37.94843292236328,y:40.01131057739258},{x:35.48944091796875,y:40.039939880371094},{x:33.03060531616211,y:40.079402923583984},{x:30.57185173034668,y:40.12396240234375},{x:28.11309242248535,y:40.16823959350586},{x:25.65424156188965,y:40.207305908203125},{x:23.195261001586914,y:40.236083984375},{x:20.73613929748535,y:40.24959182739258},{x:18.27700424194336,y:40.24214172363281},{x:15.818105697631836,y:40.20783996582031},{x:13.359911918640137,y:40.139854431152344},{x:10.903237342834473,y:40.03022384643555},{x:8.449390411376953,y:39.86946105957031},{x:6.000489711761475,y:39.646026611328125},{x:3.5599782466888428,y:39.34489059448242},{x:1.367630124092102,y:38.713314056396484},{x:.9830066561698914,y:36.284576416015625},{x:.6825252771377563,y:33.84394073486328},{x:.44851380586624146,y:31.39600944519043},{x:.2700898051261902,y:28.94337272644043},{x:.14024192094802856,y:26.487682342529297},{x:.05445803701877594,y:24.030054092407227},{x:.010028660297393799,y:21.571334838867188},{x:.005484375171363354,y:19.112194061279297},{x:.040612947195768356,y:16.653316497802734},{x:.11625642329454422,y:14.195351600646973},{x:.23477691411972046,y:11.739079475402832},{x:.3998337388038635,y:9.285518646240234},{x:.6173803210258484,y:6.836060523986816},{x:.8967378735542297,y:4.392895698547363},{x:1.2527118921279907,y:1.9597785472869873},{x:2.8866617679595947,y:.7684714198112488},{x:5.329389572143555,y:.4865400195121765},{x:7.780893802642822,y:.29399389028549194},{x:10.236599922180176,y:.16445231437683105},{x:12.694310188293457,y:.08101105690002441},{x:15.152958869934082,y:.031763285398483276},{x:17.611997604370117,y:.007386131677776575},{x:20.071136474609375,y:.0001616298541193828},{x:21.376371383666992,y:1.8802740573883057},{x:22.70690155029297,y:3.946941614151001},{x:24.253293991088867,y:5.8574957847595215},{x:25.997953414916992,y:7.588865756988525},{x:27.92256736755371,y:9.117594718933105},{x:30.0070858001709,y:10.419736862182617},{x:32.22844314575195,y:11.471447944641113},{x:34.559349060058594,y:12.25046157836914},{x:36.96796417236328,y:12.738701820373535},{x:39.4184455871582,y:12.925004959106445},{x:41.873268127441406,y:12.80765438079834},{x:44.29621505737305,y:12.395698547363281},{x:46.65583419799805,y:11.707709312438965},{x:48.92776107788086,y:10.769457817077637},{x:51.199920654296875,y:10},{x:52.97412872314453,y:8.891738891601562},{x:54.882171630859375,y:8},{x:56.244056701660156,y:6.587970733642578},{x:57.41999816894531,y:4.8555908203125},{x:58.854278564453125,y:3.2828590869903564},{x:59.99763870239258,y:1.2670775651931763},{x:61.54353332519531,y:0},{x:64.00270080566406,y:0},{x:66.46185302734375,y:0},{x:68.9210205078125,y:0},{x:71.38017272949219,y:0},{x:73.83932495117188,y:0},{x:76.29849243164062,y:0},{x:78.41999816894531,y:1}]},t.COLORS=["#fbff00","#009580","#ba00e9","#4056f1"],t.RUNTIME={numberDiscInGame:0},t.TEST={count:-1,maximumDiscInGame:100,minDistanceTime:500,paths:["18 52 86 120 154 188 222 256 292 328 362 398 434 470 506 542"]},t}();var r=o(842);const a=function(){function t(){this.initEvents()}return t.prototype.handleInteraction=function(){u.USER_INTERACTION=!0},t.prototype.initEvents=function(){document.body.addEventListener("keydown",this.handleInteraction),document.body.addEventListener("click",this.handleInteraction),document.body.addEventListener("touchstart",this.handleInteraction)},t}(),h=function(){function t(t){this.audio=t}return t.prototype.play=function(){this.audio&&this.audio.play()},t.prototype.stop=function(){this.audio&&(this.audio.pause(),this.audio.currentTime=0)},t.prototype.isPlaying=function(){return this.audio&&this.audio.currentTime>0&&!this.audio.paused&&!this.audio.ended&&this.audio.readyState>2},t.prototype.isLoaded=function(){return this.audio&&4==this.audio.readyState},t.prototype.setVolume=function(t){this.audio&&(this.audio.volume=t)},t.prototype.duration=function(){return this.audio.duration},t}(),c=function(){function t(){this._sounds={bg:"theme/frontend/plinko/assets/sounds/bg.ogg",big_win:"theme/frontend/plinko/assets/sounds/big_win.ogg",click:"theme/frontend/plinko/assets/sounds/click.ogg",over:"theme/frontend/plinko/assets/sounds/over.ogg",play:"theme/frontend/plinko/assets/sounds/play.ogg",win_sound:"theme/frontend/plinko/assets/sounds/win_sound.ogg",col:"theme/frontend/plinko/assets/sounds/col.ogg"},this.audios={},this.initAudio(),this.initInteractionListener()}return t.prototype.initInteractionListener=function(){new a},t.prototype.initAudio=function(){for(var t=0,i=Object.entries(this._sounds);t<i.length;t++){var o=i[t],e=o[0],n=o[1];this.audios[e]=new h(new Audio(n))}},t.prototype.getSound=function(t){return this.audios[t]},t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.instance=null,t}(),u=function(){function t(){}return t.mute=function(){localStorage.setItem("plinko_mute","1")},t.unmute=function(){localStorage.setItem("plinko_mute","0")},t.getSoundStatus=function(){var t=localStorage.getItem("plinko_mute");return t||(t="1"),"0"==t},t.playBackgroundSound=function(){this.playSound("bg",!0)},t.playSound=function(t,i){void 0===i&&(i=!1);var o=c.getInstance().getSound(t);this.needPlaySound(o)&&(i&&o.loop(),o.play())},t.exists=function(t){return!this.isTurnOff()&&t&&t.isLoaded()},t.needPlaySound=function(t){return!this.isTurnOff()&&t&&t.isLoaded()&&!t.isPlaying()},t.isTurnOff=function(){return!this.userHasInteraction()||(this.turnoff=this.getSoundStatus())},t.userHasInteraction=function(){return this.USER_INTERACTION},t.turnoff=!1,t.USER_INTERACTION=!1,t}();var l,p=function(){function t(t,i,o,e){this.P5=t,this.x=i,this.y=o,this.r=e,this.rangex=3,this.rangey=2,this.color=this.P5.color(255);var n=this.P5.random(3);n<1?this.color=this.P5.color(255,100,20,255):n>=1&&n<2?this.color=this.P5.color(255,200,10,255):n>=2&&(this.color=this.P5.color(255,80,5,255))}return t.prototype.show=function(){this.P5.push(),this.P5.noStroke(),this.P5.fill(this.color),this.P5.ellipse(this.x,this.y,this.r),this.P5.pop()},t.prototype.move=function(){this.x+=this.P5.random(-this.rangex,this.rangex),this.y-=this.P5.random(1,this.rangey)},t.prototype.shrink=function(){this.r-=.4},t.prototype.finished=function(){return this.r<0},t}(),f=(l=function(t,i){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},l(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=t}l(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)});const y=function(t){function i(i,o,e,n,s){var r=t.call(this,i,o,e,n)||this;return r.direction=s,r.rangex=2,r.rangey=2,r}return f(i,t),i.prototype.move=function(){0==this.direction?(this.x+=this.P5.random(-this.rangex,0),this.y+=this.P5.random(-this.rangey,0)):1==this.direction?(this.x+=this.P5.random(0,this.rangex),this.y+=this.P5.random(-this.rangey,0)):2==this.direction?(this.x+=this.P5.random(0,this.rangex),this.y+=this.P5.random(0,this.rangey)):3==this.direction&&(this.x+=this.P5.random(-this.rangex,0),this.y+=this.P5.random(0,this.rangey))},i.prototype.shrink=function(){this.r-=.4},i}(p),d=function(){function t(t,i,o){this.P5=t,this.x=i,this.y=o,this.bugs=[],this.numBugs=40,this.init()}return t.prototype.init=function(){if(this.bugs.length!=this.numBugs){this.bugs=[];for(var t=0;t<this.numBugs;t++){var i=this.P5.random(4,8),o=new y(this.P5,this.x,this.y,i,t%4);this.bugs.push(o)}}},t.prototype.show=function(){for(var t=this.bugs.length-1;t>=0;t--){var i=this.bugs[t];i.move(),i.show(),i.shrink(),i.finished()&&this.bugs.splice(t,1)}},t}(),g=function(){function t(t,i){this.world=t,this.P5=i}return Object.defineProperty(t.prototype,"body",{get:function(){return this._body},set:function(t){this._body=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!1,configurable:!0}),t.prototype.getBody=function(){return this.body},t.prototype.showBody=function(){s.APP.SHOW_BODY&&this.P5.rect(this.body.bounds.min.x,this.body.bounds.min.y,this.body.bounds.max.x-this.body.bounds.min.x,this.body.bounds.max.y-this.body.bounds.min.y)},t}(),b=function(){function t(t){this.P5=t,this.imageWidth=340,this.imageHeight=50,this.scale=0,this.effectYMax=5,this.effectY=0,this.state=m.UP,this.index_bag=-1,this.currentBallPrice=0}return t.prototype.init=function(t,i){this.scale=1,this.state=m.UP,this.index_bag=t;var o=s.DISC.prices[String(i)];o=null!=o?o:0,this.currentBallPrice=o},t.prototype.drawPanel=function(t){void 0===t&&(t="Win + 100.000 VNĐ"),this.P5.push(),this.P5.imageMode(this.P5.CENTER);var i=s.APP.WIDTH/2,o=s.APP.HEIGHT-this.imageHeight-10+this.effectY;this.P5.image(n.getImage("panel"),i,o,this.imageWidth*this.scale,this.imageHeight*this.scale),this.P5.textAlign(this.P5.CENTER,this.P5.CENTER),this.P5.textSize(22*this.scale),this.P5.textStyle(this.P5.BOLD),this.P5.text(t,i,o),this.P5.pop()},t.prototype.show=function(){if(this.scale<.5)return this.effectY=0,void(this.state=m.NONE);this.state==m.UP&&(this.effectY-=.1),this.state==m.DOWN&&(this.effectY+=.1),this.effectY+this.effectYMax<0&&(this.state=m.DOWN),this.effectY>0&&(this.state=m.STOP,this.scale-=.001),this.drawPanel(this.getCurrentText(this.index_bag))},t.prototype.getCurrentText=function(t){var i=this.currentBallPrice*s.BAG.texts[t];return"Win +"+this.formatMoney(i)+" VNĐ"},t.prototype.formatMoney=function(t){for(var i=parseFloat(t).toFixed(2).split(""),o=i.length-3;(o-=3)>0;)i.splice(o,0,",");return i.join("").replace(".00","").replace(/,/g,".")},t.getInstance=function(i){return this.instance||(this.instance=new t(i)),this.instance},t}();var m;!function(t){t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t[t.STOP=3]="STOP"}(m||(m={}));var P=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const w=function(t){function i(i,o,e,n,a){var h=t.call(this,i,o)||this;h.options={isStatic:!0,isSensor:!0,restitution:1,friction:1,game_active:0,game_bag_index:-1,game_type_ball:-1},h.effectYMax=3,h.effectY=0,h.x=e+1,h.y=n+s.BAG.topBufferFromPeg,h.color=s.BAG.colors[a],h.text=s.BAG.texts[a],h.text=h.text+"";var u=s.PEG.spacing-s.PEG.radius,l=s.BAG.heightBody,p=h.y+1.5*l,f=h.x+u/2;return h.body=r.Bodies.rectangle(f,p,u,l,h.options),h.body.label="bag",h.body.collisionFilter.group=2147483647,h.body.collisionFilter.mask=2147483647,h.body.collisionFilter.category=2147483647,r.Composite.add(i,h.body),h.brokenEffect=new d(o,f,h.y+.5*l),s.BAG.texts[a]>1?h.sound=c.getInstance().getSound("big_win"):h.sound=c.getInstance().getSound("win_sound"),h}return P(i,t),i.prototype.setGameBagIndex=function(t){this.body.game_bag_index=t},i.prototype.show=function(){this.P5.push(),this.effectCollision(),this.showGameItem(),this.showBody(),this.showBrokenEffect(),this.playSound(),this.showWinPanel(),this.P5.pop()},i.prototype.effectCollision=function(){1==this.body.game_active&&(this.effectY-=.5),0==this.body.game_active&&this.effectY<0&&(this.effectY+=.5),this.effectY+this.effectYMax<0&&1==this.body.game_active&&(this.body.game_active=0)},i.prototype.showBrokenEffect=function(){1==this.body.game_active?this.brokenEffect.show():this.brokenEffect.init()},i.prototype.getEffectColor=function(){if(this.effectY>=0)return this.color;for(var t=[],i=0;i<this.color.length;i++){var o=this.color[i];255!=o&&0!=o&&(o+=Math.abs(50*this.effectY)),o=Math.min(255,o),t.push(o)}return t},i.prototype.playSound=function(){1==this.body.game_active&&this._playSound()},i.prototype._playSound=function(){u.exists(this.sound)&&(this.sound.isPlaying()&&this.sound.stop(),this.sound.play())},i.prototype.showWinPanel=function(){1==this.body.game_active&&b.getInstance(this.P5).init(this.body.game_bag_index,this.body.game_type_ball),b.getInstance(this.P5).show()},i.prototype.showGameItem=function(){this.P5.fill(this.getEffectColor()),this.P5.beginShape(),this.P5.noStroke();for(var t=this.x,i=this.y+this.effectY,o=0;o<s.BAG.path.length;o++){var e=s.BAG.path[o],n=.35*e.x+t,r=.5*e.y+i;this.P5.curveVertex(n,r)}this.P5.endShape(),this.drawText(t,i),this.P5.fill(0)},i.prototype.drawText=function(t,i){var o=s.BAG.path[0],e=.35*o.x+t,n=.45*o.y+i;this.P5.fill(0),this.P5.textSize(10),this.P5.textStyle(this.P5.BOLD),this.P5.textAlign(this.P5.CENTER,this.P5.CENTER),this.P5.text(this.text,e-14,n+14)},i}(g),x=function(){function t(t,i,o){this.world=t,this.P5=i,this.pegContainer=o,this.bags=[]}return t.prototype.createBags=function(){for(var t=0;t<17;t++){var i=150+t,o=this.pegContainer.pegs[i],e=new w(this.world,this.P5,o.x,o.y,t);e.setGameBagIndex(t),this.bags.push(e)}},t.prototype.show=function(){this.bags.forEach((function(t,i){t.show()}))},t}(),_=function(){function t(t,i){void 0===i&&(i=v.NORMAL),this.P5=t,this.fileType=i,this.bugs=[],this.numBugs=1,this.numBugs=i}return t.prototype.show=function(t,i){void 0===t&&(t=200),void 0===i&&(i=300);for(var o=this.bugs.length-1;o>=0;o--){var e=this.bugs[o];e.move(),e.show(),e.shrink(),e.finished()&&this.bugs.splice(o,1)}for(o=0;o<this.numBugs;o++){var n=this.P5.random(5,10),s=new p(this.P5,t,i,n);this.bugs.push(s)}},t}();var v;!function(t){t[t.NORMAL=0]="NORMAL",t[t.MID=1]="MID",t[t.HOT=2]="HOT"}(v||(v={}));var O=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const I=function(t){function i(i,o,e,n,a,h,c){void 0===c&&(c=v.NORMAL);var u=t.call(this,i,o)||this;return u.pegContainer=h,u._fileType=c,u.options={restitution:1,friction:1,frictionAir:.01,density:1,game_type_ball:0},u.currentPaths=[],u.body=r.Bodies.circle(e,n,a,u.options),u.r=a,u.body.label="disc",u.body.collisionFilter.group=1,u.body.collisionFilter.mask=1,u.body.collisionFilter.category=1,u.body.game_type_ball=c,r.Composite.add(i,u.body),u.fire=new _(o,c),u.width=s.DISC.draw_width(),u}return O(i,t),Object.defineProperty(i.prototype,"fileType",{get:function(){return this._fileType},set:function(t){this._fileType=t},enumerable:!1,configurable:!0}),i.prototype.init=function(t){void 0===t&&(t=[]),this.incrementCount();var i=Math.pow(2,s.TEST.count);this.body.collisionFilter.group=i,this.body.collisionFilter.mask=i,this.body.collisionFilter.category=i,this.testWall(t)},i.prototype.incrementCount=function(){s.TEST.count++,s.TEST.count>29&&(s.TEST.count=0,this.pegContainer.resetMaskCrossWall())},i.prototype.testWall=function(t){if(void 0===t&&(t=[]),null!=t)for(var i=0;i<t.length-1;i++){var o=parseInt(t[i]),e=parseInt(t[i+1]),n=o-1+"_"+(e-1),s=o+1+"_"+(e+1);this.pegContainer.walls[n]&&this.changeGroupWall(this.pegContainer.walls[n]),this.pegContainer.walls[s]&&this.changeGroupWall(this.pegContainer.walls[s])}},i.prototype.changeGroupWall=function(t){var i=Math.pow(2,s.TEST.count);t.body.game_active=s.TEST.count+1,t.body.collisionFilter.mask|=i,t.body.collisionFilter.category|=i},i.prototype.collision=function(t,i){i.game_idx_peg},i.prototype.retreivePivotPoint=function(t){for(var i=0;i<this.currentPaths.length;i++){var o=parseInt(this.currentPaths[i]);if(o-1==t||o+1==t)return o}return 0},i.prototype.show=function(){this.showFire(),this.P5.push(),this.showGameItem(),this.showBody(),this.P5.pop()},i.prototype.showFire=function(){var t=this.body.position,i=t.x,o=t.y;this.fire.show(i,o)},i.prototype.showGameItem=function(){var t=this.body.position,i=t.x,o=t.y;this.P5.translate(i,o),this.P5.image(this.getImageRender(),-this.width/2,-this.width/2,this.width,this.width)},i.prototype.getImageRender=function(){return this.fileType==v.NORMAL?n.getImage("ball_black"):this.fileType==v.MID?n.getImage("ball_green"):n.getImage("ball")},i}(g),C=function(){function t(t,i,o){this.world=t,this.P5=i,this.pegContainer=o,this.discs=[]}return t.prototype.createDisc=function(t,i){void 0===t&&(t=""),void 0===i&&(i=v.HOT);var o=t.split(" ");if(0!=o.length){var e=16==o[0]?-2:2,n=s.DISC.x+e,r=s.DISC.y,a=s.DISC.radius,h=new I(this.world,this.P5,n,r,a,this.pegContainer,i);h.init(o),this.discs.push(h)}},t.prototype.collision=function(t,i){this.discs.forEach((function(o,e){o.collision(t,i)}))},t.prototype.show=function(){this.discs.forEach((function(t,i){t.show()}))},t.prototype.remove=function(){var t=this;this.discs.forEach((function(i,o){i.getBody().position.y>700&&(r.Composite.remove(t.world,i.getBody()),delete t.discs[o],t.removeCallback&&t.removeCallback())}))},t.prototype.removeById=function(t){for(var i=0;i<this.discs.length;i++){var o=this.discs[i];if(o&&o.getBody().id==t)return r.Composite.remove(this.world,o.getBody()),void this.discs.splice(i,1)}},t}(),T=function(){function t(t,i,o){void 0===o&&(o={rate:2,time:15,x:0,y:0,percentIncrement:3,width:20,height:20}),this.P5=t,this.name=i,this.options=o,this.tick=0,this.count=0,this.image=n.getImage(this.name)}return t.prototype.reset=function(){this.finish&&this.finish()},t.prototype.show=function(){if(this.count>this.options.time)return this.reset(),void(this.count=0);this.tick%this.options.rate==0&&(this.drawImage(),this.count++),this.tick++},t.prototype.drawImage=function(){var t=(100+this.options.percentIncrement*this.count)/100,i=this.options.width*t,o=this.options.height*t;this.image?this.P5.image(this.image,this.options.x,this.options.y,i,o):this.image=n.getImage(this.name)},t}();var S=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}(),E=function(t){function i(i,o,e,n,s){var a=t.call(this,i,o)||this;return a.countDrawLight=0,a.options={isStatic:!0,restitution:1,friction:0,game_idx_peg:0,game_active:0},a.r=s,a.x=e,a.y=n,a.body=r.Bodies.circle(e,n,s,a.options),a.body.label="peg",a.body.collisionFilter.group=2147483647,a.body.collisionFilter.mask=2147483647,a.body.collisionFilter.category=2147483647,r.Composite.add(i,a.body),a.light=new T(a.P5,"light"),a.light.finish=function(){a.body.game_active=0},a}return S(i,t),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"indexPeg",{get:function(){return this._indexPeg},set:function(t){this.body.game_idx_peg=t,this._indexPeg=t},enumerable:!1,configurable:!0}),i.prototype.show=function(){this.P5.push(),this.showGameItem(),this.showBody(),this.P5.pop()},i.prototype.showGameItem=function(){this.P5.fill("#fff"),this.P5.noStroke();var t=this.body.position;this.P5.translate(t.x,t.y),this.P5.ellipse(0,0,2*this.r),this.P5.imageMode(this.P5.CENTER),this.body.game_active&&this.light.show()},i}(g),k=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const D=function(t){function i(i,o,e,n,r,a){var h=t.call(this,i,o)||this;return h.options={isStatic:!0,restitution:1,friction:1,game_active:0,wall_name:""},h.height=s.WALL.height,h}return k(i,t),Object.defineProperty(i.prototype,"fromPeg",{get:function(){return this._fromPeg},set:function(t){this._fromPeg=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"toPeg",{get:function(){return this._toPeg},set:function(t){this._toPeg=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fromIndex",{get:function(){return this._fromIndex},set:function(t){this._fromIndex=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"toIndex",{get:function(){return this._toIndex},set:function(t){this._toIndex=t},enumerable:!1,configurable:!0}),i.prototype.setWallName=function(t){this.body.wall_name=t},i.prototype.setStroke=function(){this.P5.fill("#45bf36"),this.body.game_active>=1?this.P5.stroke(s.COLORS[this.body.game_active%s.COLORS.length]):this.P5.stroke(255)},i}(g);var j=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const A=function(t){function i(i,o,e,n,s,a){var h=t.call(this,i,o,e,n,s,a)||this,c=h.getPoints(e,n,s,a);return h.body=r.Bodies.fromVertices(c[0][0].x,c[0][0].y,c,h.options),h.body.label="wall",h.body.collisionFilter.group=0,h.body.collisionFilter.mask=0,h.body.collisionFilter.category=0,r.Composite.add(i,h.body),h}return j(i,t),i.prototype.show=function(){s.WALL.showWall&&(this.P5.push(),this.setStroke(),this.body.position,this.P5.beginShape(),this.P5.vertex(this.body.vertices[0].x,this.body.vertices[0].y),this.P5.vertex(this.body.vertices[1].x,this.body.vertices[1].y),this.P5.vertex(this.body.vertices[2].x,this.body.vertices[2].y),this.P5.vertex(this.body.vertices[3].x,this.body.vertices[3].y),this.P5.endShape(this.P5.CLOSE),this.P5.pop())},i}(D);var B=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const W=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return B(i,t),i.prototype.getPoints=function(t,i,o,e){var n=Math.abs(o-t)/2,s=Math.abs(e-i)/2,r=1*Math.tan(30*Math.PI/180);return[[{x:t-n-r,y:i+s+1},{x:t+.2-n-r,y:i+s+1},{x:o+.2-n+r,y:e+s-1},{x:o-n+r,y:e+s-1}]]},i}(A);var G=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const L=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return G(i,t),i.prototype.getPoints=function(t,i,o,e){var n=Math.abs(o-t)/2,s=Math.abs(e-i)/2,r=1*Math.tan(30*Math.PI/180);return[[{x:t+n+r,y:i+s+1},{x:t+.2+n+r,y:i+s+1},{x:o+.2+n-r,y:e+s-1},{x:o+n-r,y:e+s-1}]]},i}(A);var N=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const F=function(t){function i(i,o,e,n,s,r){var a=t.call(this,i,o,e,n,s,r)||this;return a.init(e,n,s,r),a}return N(i,t),i.prototype.init=function(t,i,o,e){var n=this.width=s.WALL.funnel_width,a=this.height=Math.abs(e-i);this.body=r.Bodies.rectangle(t,i-a/2,n,a,this.options),this.body.label="funnel_wall",this.body.collisionFilter.group=2147483647,this.body.collisionFilter.mask=2147483647,this.body.collisionFilter.category=2147483647,r.Composite.add(this.world,this.body)},i.prototype.show=function(){s.WALL.showWall&&(this.P5.push(),this.setStroke(),this.body.position,this.P5.rect(this.body.bounds.min.x,this.body.bounds.min.y,this.body.bounds.max.x-this.body.bounds.min.x,this.body.bounds.max.y-this.body.bounds.min.y),this.P5.pop())},i}(D);var M=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const H=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return M(i,t),i.prototype.init=function(t,i,o,e){var n=this.width=1,s=this.height=Math.abs(e-i);this.body=r.Bodies.rectangle(t,i+s/2,n,s,this.options),this.body.label="funnel_wall",this.body.collisionFilter.group=2147483647,this.body.collisionFilter.mask=2147483647,this.body.collisionFilter.category=2147483647,r.Composite.add(this.world,this.body)},i}(F);var R=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const Y=function(t){function i(i,o,e,n,s,a){var h=t.call(this,i,o,e,n,s,a)||this;return h.wtfSpacing=15,h.width=Math.abs(s-e)-h.wtfSpacing,h.body=r.Bodies.rectangle(e+h.wtfSpacing,n,h.width,h.height,h.options),h.body.label="wall",h.body.collisionFilter.group=0,h.body.collisionFilter.mask=0,h.body.collisionFilter.category=0,r.Composite.add(i,h.body),h}return R(i,t),i.prototype.show=function(){s.WALL.showWall&&(this.P5.push(),this.setStroke(),this.body.position,this.P5.rect(this.body.bounds.min.x,this.body.bounds.min.y,this.body.bounds.max.x-this.body.bounds.min.x,this.body.bounds.max.y-this.body.bounds.min.y),this.P5.pop())},i}(D),U=function(){function t(t,i){this._pegs=[],this._walls={},this.funnelwalls=[],this.world=t,this.P5=i}return Object.defineProperty(t.prototype,"pegs",{get:function(){return this._pegs},set:function(t){this._pegs=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"walls",{get:function(){return this._walls},set:function(t){this._walls=t},enumerable:!1,configurable:!0}),t.prototype.makePegs=function(t,i,o){void 0===o&&(o={radius:1,spacing:30,rows:17});for(var e=t/2,n=1*o.spacing,s=.8*o.spacing,r=e-n,a=[],h=15,c=28,u=1;u<o.rows;u++){for(var l=1;l<u+3;l++){var p=r-.5*(u+1)*n+l*n,f=i+u*s,y=new E(this.world,this.P5,p,f,o.radius);y.indexPeg=h,a.push(y),h+=2}h+=c,c-=2}return this.pegs=a},t.prototype.makeWalls=function(){this.makeFunnelWalls(),this.makeHorizontalWalls(),this.makeCrossWalls()},t.prototype.makeFunnelWalls=function(){if(this.pegs.length>3){var t=(n=this.pegs[0]).x,i=n.y-100,o=new F(this.world,this.P5,n.x,n.y,t,i);this.funnelwalls.push(o),t=(n=this.pegs[2]).x,i=n.y-100,o=new F(this.world,this.P5,n.x,n.y,t,i),this.funnelwalls.push(o)}if(this.pegs.length>167)for(var e=150;e<this.pegs.length;e++){var n;t=(n=this.pegs[e]).x,i=n.y+50,o=new H(this.world,this.P5,n.x,n.y,t,i),this.funnelwalls.push(o)}},t.prototype.makeHorizontalWalls=function(){for(var t=0;t<this.pegs.length-1;t++){var i=this.pegs[t],o=this.pegs[t+1],e=i.indexPeg,n=o.indexPeg;if((e/35|0)==(n/35|0)){i.x,s.PEG.radius,i.y,s.WALL.height,o.x,s.PEG.radius,o.y,s.WALL.height;var r=new Y(this.world,this.P5,i.x,i.y,o.x,o.y);r.fromPeg=i,r.toPeg=o,r.fromIndex=e,r.toIndex=n;var a=e+"_"+n;r.setWallName(a),this.walls[a]=r}}},t.prototype.makeCrossWalls=function(){for(var t=-1,i=2,o=3,e=0;e<this.pegs.length;e++){var n=this.pegs[e],s=n.indexPeg/35|0;t!=s&&(t=s,i+=1,o+=1);var r=e+i;if(r<this.pegs.length){var a=this.pegs[r];this.createWall(n,a,!0)}(r=e+o)<this.pegs.length&&(a=this.pegs[r],this.createWall(n,a,!1))}},t.prototype.createWall=function(t,i,o){var e=o?new W(this.world,this.P5,t.x,t.y,i.x,i.y):new L(this.world,this.P5,t.x,t.y,i.x,i.y),n=i.indexPeg,s=t.indexPeg;e.fromIndex=s,e.toIndex=n,e.fromPeg=t,e.toPeg=i;var r=s+"_"+n;return e.setWallName(r),this.walls[r]=e,e},t.prototype.resetMaskCrossWall=function(){for(var t=0,i=Object.entries(this.walls);t<i.length;t++){var o=i[t],e=(o[0],o[1]);e instanceof A&&(e.body.collisionFilter.mask=0,e.body.collisionFilter.category=0)}},t.prototype.show=function(){for(var t=0,i=Object.entries(this.walls);t<i.length;t++){var o=i[t];o[0],o[1].show()}this.pegs.forEach((function(t){t.show()})),this.funnelwalls.forEach((function(t){t.show()}))},t}();var V=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}(),z=function(t){function i(i,o){var e=t.call(this,i,o)||this;return e.x=s.HOLE.DROP_POSITION_X,e.y=s.HOLE.DROP_POSITION_Y,e.width=e.height=2*s.DISC.radius*1.5,e}return V(i,t),i.prototype.show=function(){this.P5.push(),this.showGameItem(),this.P5.pop()},i.prototype.showGameItem=function(){this.P5.noStroke(),this.P5.translate(this.x,this.y),this.P5.imageMode(this.P5.CENTER);var t=n.getImage("hole");t&&this.P5.image(t,0,0,this.width,this.height)},i}(g);const X=function(t,i){this.world=t,this.discContainer=i};var q=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const J=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return q(i,t),i.prototype.init=function(t,i){this.disc=t,this.enemy=this.bag=i},i.prototype.action=function(){s.RUNTIME.numberDiscInGame--,this.bag.game_active=1,this.bag.game_type_ball=this.disc.game_type_ball,this.discContainer.removeById(this.disc.id)},i}(X);var K=function(){function t(){this.bornTime=0,this.duration=300,this.sound=c.getInstance().getSound("col"),this.duration=1e3*this.sound.duration(),this.sound.setVolume(.2),this.bornTime=(new Date).getTime()}return t.prototype.play=function(t){this.soundExists()&&(this.needRemove(t)&&this.sound.stop(),this.sound.play())},t.prototype.soundExists=function(){return!u.isTurnOff()&&this.sound&&this.sound.isLoaded()},t.prototype.needRemove=function(t){return t-this.bornTime>this.duration},t}();const Q=function(){function t(){this.sounds=[];for(var t=0;t<1;t++)this.sounds.push(new K)}return t.prototype.speaker=function(){for(var t=(new Date).getTime(),i=0;i<this.sounds.length;i++){var o=this.sounds[i];o&&o.play(t)}},t.getIntance=function(){return this.PEGSOUND||(this.PEGSOUND=new t),this.PEGSOUND},t}();var Z=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const $=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Z(i,t),i.prototype.init=function(t,i){this.disc=t,this.enemy=this.peg=i},i.prototype.action=function(){this.peg.game_active=1,Q.getIntance().speaker()},i}(X),tt=function(){function t(){}return t.getCollisionTarget=function(i,o,e,n){if("bag"==e.label&&"disc"==n.label||"disc"==e.label&&"bag"==n.label){var s="bag"==e.label?e:n,r="disc"==e.label?e:n;return t.CollisionItems.BagDiscCollision||(t.CollisionItems.BagDiscCollision=new J(i,o)),(a=t.CollisionItems.BagDiscCollision).init(r,s),a}if("peg"==e.label&&"disc"==n.label||"disc"==e.label&&"peg"==n.label){var a,h="peg"==e.label?e:n;return r="disc"==e.label?e:n,t.CollisionItems.PegDiscCollision||(t.CollisionItems.PegDiscCollision=new $(i,o)),(a=t.CollisionItems.PegDiscCollision).init(r,h),a}return null},t.CollisionItems={},t}(),it=function(){function t(t){this.lastCreateDiscTime=0,this.P5=t,this.engine=r.Engine.create(),this.world=this.engine.world}return t.prototype.init=function(){this.createPegs(),this.initDiscs(this.pegContainer),this.createBags(this.pegContainer),this.initEvents(),this.hole=new z(this.world,this.P5)},t.prototype.initEvents=function(){var t=this;r.Events.on(this.engine,"collisionStart",(function(i){t.collisionStart(i)}))},t.prototype.createPegs=function(){this.pegContainer=new U(this.world,this.P5),this.pegContainer.makePegs(s.APP.WIDTH,s.APP.TOPBUFFER,s.PEG),this.pegContainer.makeWalls()},t.prototype.initDiscs=function(t){this.discContainer=new C(this.world,this.P5,t)},t.prototype.createBags=function(t){this.bagContainer=new x(this.world,this.P5,t),this.bagContainer.createBags()},t.prototype.createDisc=function(){if(this.checkConditionCreateDisc()){this.lastCreateDiscTime=(new Date).getTime(),s.RUNTIME.numberDiscInGame++;var t=s.TEST.paths[s.TEST.count%s.TEST.paths.length];this.discContainer.createDisc(t)}},t.prototype.checkConditionCreateDisc=function(){var t=this.P5.keyIsDown(32),i=s.APP.DEMO,o=s.RUNTIME.numberDiscInGame<s.TEST.maximumDiscInGame,e=(new Date).getTime()-this.lastCreateDiscTime>s.TEST.minDistanceTime;return t&&i&&o&&e},t.prototype.drawPegs=function(){this.pegContainer.show()},t.prototype.drawDiscs=function(){this.discContainer.show()},t.prototype.drawBag=function(){this.bagContainer.show()},t.prototype.drawHole=function(){this.hole.show()},t.prototype.update=function(){r.Engine.update(this.engine)},t.prototype.collisionStart=function(t){for(var i=t.pairs,o=0;o<i.length;o++){var e=i[o],n=e.bodyA,s=e.bodyB,r=tt.getCollisionTarget(this.world,this.discContainer,n,s);r&&r.action()}},t.prototype.collisionEnd=function(t){},t}();var ot,et=function(){return et=Object.assign||function(t){for(var i,o=1,e=arguments.length;o<e;o++)for(var n in i=arguments[o])Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);return t},et.apply(this,arguments)},nt=function(){function t(t,i){void 0===i&&(i={}),this.options={parent:"game"},this.P5=t,this.options=et(et({},this.options),i),this.matterWrapper=new it(t),this.loader=new n(t)}return t.prototype.preload=function(){this.loader.loadImages()},t.prototype.setup=function(){this.mCanvas=this.P5.createCanvas(s.APP.WIDTH,s.APP.HEIGHT),this.mCanvas.parent(this.options.parent),this.P5.background("#ccc"),this.matterWrapper.init()},t.prototype.draw=function(){var t=n.getImage("bg");t&&this.P5.background(t),this.debug(),this.matterWrapper.update(),this.matterWrapper.drawHole(),this.matterWrapper.createDisc(),this.matterWrapper.drawPegs(),this.matterWrapper.drawDiscs(),this.matterWrapper.drawBag()},t.prototype.mousePressed=function(){this.loadAndPlayGameSound()},t.prototype.loadAndPlayGameSound=function(){},t.prototype.debug=function(){s.APP.DEMO&&(this.debugLine(),this.debugFrameRate())},t.prototype.debugLine=function(){this.P5.push(),this.P5.stroke("#f7a9a9"),this.P5.line(s.APP.WIDTH/2,0,s.APP.WIDTH/2,s.APP.HEIGHT),this.P5.line(0,s.APP.HEIGHT/2,s.APP.WIDTH,s.APP.HEIGHT/2),this.P5.pop()},t.prototype.debugFrameRate=function(){this.P5.text(this.P5.frameRate(),10,10)},t}(),st=!1,rt=window.location.hostname;if("localhost"!=rt&&"127.0.0.1"!=rt&&"vinlott.net"!=rt&&"doanso.test"!=rt){var at=document.createElement("span");at.style.color="red",at.innerHTML="Licence không hợp lệ!",document.body.innerHTML="",document.body.appendChild(at)}else new e((function(t){c.getInstance();var i=ot=new nt(t);t.preload=function(){i.preload()},t.setup=function(){i.setup()},t.draw=function(){var t;i.draw(),st||(st=!0,t=new Event("game_inited"),document.dispatchEvent(t))},t.mousePressed=function(){i.mousePressed()}}));window.ShortPlinko={blurWhenInactive:function(){},getGame:function(){return ot},createDisc:function(t,i){return this.getGame().matterWrapper.discContainer.createDisc(t,i)},sound:function(){return c},loader:function(){return n},init:function(){this.blurWhenInactive()}},window.ShortPlinko.init()}},o={};function e(t){var n=o[t];if(void 0!==n)return n.exports;var s=o[t]={exports:{}};return i[t].call(s.exports,s,s.exports,e),s.exports}e.m=i,t=[],e.O=(i,o,n,s)=>{if(!o){var r=1/0;for(u=0;u<t.length;u++){for(var[o,n,s]=t[u],a=!0,h=0;h<o.length;h++)(!1&s||r>=s)&&Object.keys(e.O).every((t=>e.O[t](o[h])))?o.splice(h--,1):(a=!1,s<r&&(r=s));if(a){t.splice(u--,1);var c=n();void 0!==c&&(i=c)}}return i}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[o,n,s]},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),(()=>{var t={179:0};e.O.j=i=>0===t[i];var i=(i,o)=>{var n,s,[r,a,h]=o,c=0;if(r.some((i=>0!==t[i]))){for(n in a)e.o(a,n)&&(e.m[n]=a[n]);if(h)var u=h(e)}for(i&&i(o);c<r.length;c++)s=r[c],e.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return e.O(u)},o=self.webpackChunkplinko=self.webpackChunkplinko||[];o.forEach(i.bind(null,0)),o.push=i.bind(null,o.push.bind(o))})();var n=e.O(void 0,[83],(()=>e(338)));n=e.O(n)})();