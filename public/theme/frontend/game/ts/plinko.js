(()=>{"use strict";const t=function(){function t(){}return t.showLoading=function(){BASE_GUI.showLoading()},t.createFlashNotify=function(t,e){void 0===e&&(e=!0),BASE_GUI.createFlashNotify(t,e)},t.hideLoading=function(){BASE_GUI.hideLoading()},t}(),e=function(){function t(){}return t.all=function(t){return document.querySelectorAll(t)},t._=function(t){return document.querySelector(t)},t.flex=function(t){t.style.display="flex"},t.none=function(t){t.style.display="none"},t.on=function(t,e,n){document.addEventListener(t,(function(t){for(var o=t.target;o&&o!=this;o=o.parentNode)if(o.matches(e)){n(t);break}}),!1)},t}(),n=function(){function n(t){void 0===t&&(t="ws://localhost:8888/"),this.socketUrl=t,this.connecter=null,this.wsReady=!1,this.openListeners=[],this.messageListeners=[],this.closeListeners=[],this.errorListeners=[]}return n.prototype.addOpenListener=function(t){t&&this.openListeners.push(t)},n.prototype.addMessageListener=function(t){t&&this.messageListeners.push(t)},n.prototype.addCloseListener=function(t){t&&this.closeListeners.push(t)},n.prototype.addErrorListener=function(t){t&&this.errorListeners.push(t)},n.prototype.sendData=function(e,n){void 0===n&&(n=!0),n&&t.showLoading(),this.wsReady?this.connecter.send(e):t.createFlashNotify("Không thể kết nối tới server",!1)},n.prototype.init=function(){var t=e._("input[name=auth_token]");if(t){var n=t.value,o=this.socketUrl+"?auth_token=".concat(n);this.connecter=new WebSocket(o);var i=this;this.connecter.onopen=function(t){i.wsReady=!0;for(var e=0,n=i.openListeners;e<n.length;e++)(0,n[e])(t)},this.connecter.onmessage=function(t){for(var e=0,n=i.messageListeners;e<n.length;e++){var o=n[e],r={};t.data&&(r=JSON.parse(t.data)),o(t,r)}},this.connecter.onclose=function(t){i.wsReady=!1;for(var e=0,n=i.closeListeners;e<n.length;e++)(0,n[e])(t)},this.connecter.onerror=function(t){i.wsReady=!1;for(var e=0,n=i.errorListeners;e<n.length;e++)(0,n[e])(t)}}},n}(),o=function(){function t(){}return Object.defineProperty(t,"currentGameInfo",{get:function(){return t._currentGameInfo},set:function(e){t._currentGameInfo=e},enumerable:!1,configurable:!0}),t.isAutoMode=function(){return"auto"==e._(".label_choose input[name=mode]:checked").value},t.setTimeBet=function(){var t=(new Date).getTime();this.lastTimeBet=t},t.acceptBet=function(){return(new Date).getTime()-this.lastTimeBet>this.TIME_EACH_BALL},t.TIME_EACH_BALL=1e3,t.GAME_INITED=!1,t._currentGameInfo={},t.lastTimeBet=0,t}(),i=function(){function t(){}return t.isInactive=function(){var e=sessionStorage.getItem(t.KEY_PLINKO_INACTIVE);return null!=e&&1==e},t.setInactive=function(e){sessionStorage.setItem(t.KEY_PLINKO_INACTIVE,e)},t.getQty=function(){var e=localStorage.getItem(t.KEY_PLINKO_QTY);return null==e?1:e},t.getMode=function(){var e=localStorage.getItem(t.KEY_PLINKO_MODE);return null==e?"manual":e},t.getType=function(){var e=localStorage.getItem(t.KEY_PLINKO_TYPE);return null==e?2:e},t.setConfigGame=function(e,n,o){localStorage.setItem(t.KEY_PLINKO_QTY,e),localStorage.setItem(t.KEY_PLINKO_TYPE,o),localStorage.setItem(t.KEY_PLINKO_MODE,n)},t.getCountCurrentBall=function(){var t=sessionStorage.getItem(this.KEY_PLINKO_CURRENT_COUNT_BALL_AUTO_MODE);return null==t?0:parseInt(t)},t.resetCountCurrentBall=function(){sessionStorage.setItem(this.KEY_PLINKO_CURRENT_COUNT_BALL_AUTO_MODE,"0")},t.incrementCountCurrentBall=function(){var t=this.getCountCurrentBall();t++,sessionStorage.setItem(this.KEY_PLINKO_CURRENT_COUNT_BALL_AUTO_MODE,String(t))},t.KEY_PLINKO_INACTIVE="plinko_inactive",t.KEY_PLINKO_QTY="plinko_qty",t.KEY_PLINKO_MODE="plinko_mode",t.KEY_PLINKO_TYPE="plinko_type",t.KEY_PLINKO_BETTED="plinko_betted",t.KEY_PLINKO_CURRENT_COUNT_BALL_AUTO_MODE="plinko_current_count_ball",t}();var r=function(){function t(t,n){this.plinkoSocket=t,this.plinkoUi=n,this.interValGameTime=null,this.timeRemaining=0,this.gamePlinkoTimeBox=e._("#game-plinko-time-box")}return t.prototype.initInfo=function(t){var e;if(this.gamePlinkoTimeBox&&t.html){this.gamePlinkoTimeBox.innerHTML=t.html,this.timeRemaining=null!==(e=t.time_remaining)&&void 0!==e?e:0,i.resetCountCurrentBall(),this.interValGameTime&&clearInterval(this.interValGameTime);var n=this;n.runMainLoop(),this.interValGameTime=setInterval((function(){n.runMainLoop()}),1e3)}},t.prototype.runMainLoop=function(){var t=this.timeRemaining/60|0,e=this.timeRemaining%60|0;t=t<10?"0"+t:String(t),e=e<10?"0"+e:String(e),this.timeRemaining<=0?this.refreshGame():this.plinkoUi.updateCountDownMain(t,e),this.showTimeChecker(),this.autoPlay(),this.plinkoUi.updateCountDownPlayBox(this.timeRemaining),this.plinkoUi.updateCountDownBall(),this.timeRemaining--},t.prototype.refreshGame=function(){this.interValGameTime&&clearInterval(this.interValGameTime),i.resetCountCurrentBall(),i.isInactive()?window.location.href=window.location.href:this.plinkoSocket.initGame()},t.prototype.showTimeChecker=function(){var t=e._(".game-betting .mark-box"),n=parseInt(PLINKO_CONFIG.LAST_POINT_TO_COUNT_DOWN);this.timeRemaining<=n?(e.flex(t),this.plinkoUi.updateCountDownFullBox(t,this.timeRemaining)):e.none(t)},t.prototype.autoPlay=function(){var t=o.acceptBet()&&this.hasEnoughTimeToPlay()&&!i.isInactive(),e=this.hasEnoughBall(),n=o.GAME_INITED;o.isAutoMode()&&t&&e&&n&&(this.plinkoUi.disableButtonPlay(),this.plinkoSocket.sendPlayRequest(!1),i.incrementCountCurrentBall())},t.prototype.hasEnoughBall=function(){var t=i.getQty(),e=PLINKO_CONFIG.MAXIMUM_BALL,n=i.getCountCurrentBall();return t<=e&&t-n>0},t.prototype.hasEnoughTimeToPlay=function(){var t=parseInt(PLINKO_CONFIG.LAST_POINT_TO_BET);return this.timeRemaining>t},t}();const a=r,s=function(){function e(t){this.psocket=t}return e.prototype.init=function(){var t=this;this.psocket.init(),this.psocket.addOpenListener((function(e){t.onOpenSocket(e)})),this.psocket.addCloseListener((function(e){t.onCloseSocket(e)})),this.psocket.addErrorListener((function(e){t.onErrorSocket(e)})),this.psocket.addMessageListener((function(e,n){t.onMessageSocket(e,n)}))},e.prototype.onOpenSocket=function(e){t.hideLoading()},e.prototype.onCloseSocket=function(e){t.showLoading(),t.createFlashNotify("Không thể kết nối tới server",!1)},e.prototype.onErrorSocket=function(e){t.showLoading(),t.createFlashNotify("Không thể kết nối tới server",!1)},e.prototype.onMessageSocket=function(e,n){t.hideLoading(),n.success&&n.action?this.processMessageData(n):n.message?t.createFlashNotify(n.message):t.createFlashNotify("Lỗi không xác đinh!")},e.prototype.sendData=function(t,e){void 0===e&&(e=!0),this.psocket.sendData(t,e)},e}();const c=function(){function t(){}return Object.defineProperty(t,"currentGameInfo",{get:function(){return t._currentGameInfo},set:function(e){t._currentGameInfo=e},enumerable:!1,configurable:!0}),t.isAutoMode=function(){return"auto"==e._(".label_choose input[name=mode]:checked").value},t._currentGameInfo={},t}();const u=function(){function t(){}return t.isInactive=function(){var e=sessionStorage.getItem(t.KEY_PLINKO_INACTIVE);return null!=e&&1==e},t.setInactive=function(e){sessionStorage.setItem(t.KEY_PLINKO_INACTIVE,e)},t.getQty=function(){var e=localStorage.getItem(t.KEY_PLINKO_QTY);return null==e?1:e},t.getMode=function(){var e=localStorage.getItem(t.KEY_PLINKO_MODE);return null==e?"manual":e},t.getType=function(){var e=localStorage.getItem(t.KEY_PLINKO_TYPE);return null==e?2:e},t.setConfigGame=function(e,n,o){localStorage.setItem(t.KEY_PLINKO_QTY,e),localStorage.setItem(t.KEY_PLINKO_TYPE,o),localStorage.setItem(t.KEY_PLINKO_MODE,n)},t.isGameBetted=function(){try{var e=JSON.parse(sessionStorage.getItem(t.KEY_PLINKO_BETTED))[c.currentGameInfo.current_game_idx];return null!=e&&1==e}catch(t){}return!1},t.setGameStateBet=function(e){try{var n=c.currentGameInfo.current_game_idx,o={};o[n]=e,sessionStorage.setItem(t.KEY_PLINKO_BETTED,JSON.stringify(o))}catch(t){}},t.KEY_PLINKO_INACTIVE="plinko_inactive",t.KEY_PLINKO_QTY="plinko_qty",t.KEY_PLINKO_MODE="plinko_mode",t.KEY_PLINKO_TYPE="plinko_type",t.KEY_PLINKO_BETTED="plinko_betted",t}();var l,p=(l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},l(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const f=function(n){function o(t){return n.call(this,t)||this}return p(o,n),o.prototype.onOpenSocket=function(t){n.prototype.onOpenSocket.call(this,t),this.initGame(),this.onOpenSocketCallback&&this.onOpenSocketCallback(t)},o.prototype.initGame=function(){var t={};t.type=connectionGameType,t.action=PLINKO_STATUS.GAME_ACTION_GET_CURRENT_GAME_INFO,this.sendData(JSON.stringify(t))},o.prototype.retrieveResult=function(){var t={};t.type=connectionGameType,t.currentGame=c.currentGameInfo,t.action=PLINKO_STATUS.GAME_ACTION_RETRIEVE_RESULT,this.sendData(JSON.stringify(t))},o.prototype.sendPlayRequest=function(){u.setGameStateBet(1);var t={};t.type=connectionGameType,t.action=PLINKO_STATUS.GAME_ACTION_DO_BET,t.currentGame=c.currentGameInfo;var n={type:e._("[name=risk]:checked").value,mode:e._("[name=mode]:checked").value,qty:e._("[name=qty]").value};t.gameData=n,this.sendData(JSON.stringify(t))},o.prototype.betSuccess=function(e){t.createFlashNotify("Bet thành công.")},o.prototype.processMessageData=function(t){var e;switch(t.action){case PLINKO_STATUS.GAME_ACTION_GET_CURRENT_GAME_INFO:var n=t.data;c.currentGameInfo.current_game_idx=null!==(e=n.current_game_idx)&&void 0!==e?e:"",this.onInitGameCallback&&this.onInitGameCallback(n);break;case PLINKO_STATUS.GAME_ACTION_DO_BET:this.betSuccess(t.data);break;case PLINKO_STATUS.GAME_ACTION_RETRIEVE_RESULT:this.renderBall(t.data)}},o.prototype.renderBall=function(t){return e=this,n=void 0,i=function(){var e,n,o;return function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}(this,(function(i){switch(i.label){case 0:if(!(e=t.games))return[2];n=0,i.label=1;case 1:return n<e.length?(o=e[n],ShortPlinko.createDisc(o.path,o.type),[4,this.sleep(400)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))},new((o=void 0)||(o=Promise))((function(t,r){function a(t){try{c(i.next(t))}catch(t){r(t)}}function s(t){try{c(i.throw(t))}catch(t){r(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(a,s)}c((i=i.apply(e,n||[])).next())}));var e,n,o,i},o.prototype.sleep=function(t){return new Promise((function(e){return setTimeout(e,t)}))},o}(s);var h=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const d=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return h(n,t),n.prototype.retrieveResult=function(){},n.prototype.sendPlayRequest=function(t){void 0===t&&(t=!0),o.setTimeBet();var n={};n.type=connectionGameType,n.action=PLINKO_STATUS.GAME_ACTION_DO_BET,n.currentGame=o.currentGameInfo;var i={type:e._("[name=risk]:checked").value,mode:e._("[name=mode]:checked").value,qty:e._("[name=qty]").value};n.gameData=i,this.sendData(JSON.stringify(n),t)},n.prototype.betSuccess=function(t){var e=t.games;e&&this.renderBall(e)},n.prototype.processMessageData=function(t){var e;switch(t.action){case PLINKO_STATUS.GAME_ACTION_GET_CURRENT_GAME_INFO:var n=t.data;o.currentGameInfo.current_game_idx=null!==(e=n.current_game_idx)&&void 0!==e?e:"",this.onInitGameCallback&&this.onInitGameCallback(n);break;case PLINKO_STATUS.GAME_ACTION_DO_BET:this.betSuccess(t.data)}},n.prototype.renderBall=function(t){return e=this,n=void 0,i=function(){return function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}(this,(function(e){switch(e.label){case 0:return"undefined"!=typeof ShortPlinko&&ShortPlinko.createDisc(t.path,t.type),[4,this.sleep(500)];case 1:return e.sent(),[2]}}))},new((o=void 0)||(o=Promise))((function(t,r){function a(t){try{c(i.next(t))}catch(t){r(t)}}function s(t){try{c(i.throw(t))}catch(t){r(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(a,s)}c((i=i.apply(e,n||[])).next())}));var e,n,o,i},n.prototype.sleep=function(t){return new Promise((function(e){return setTimeout(e,t)}))},n}(f),_=function(){function t(){this.browserPrefixes=["moz","ms","o","webkit"],this.isVisible=!1,this.browserPrefix=this.getBrowserPrefix(),this.hiddenPropertyName=this.getHiddenPropertyName(this.browserPrefix),this.visibilityEventName=this.getVisibilityEvent(this.browserPrefix)}return t.prototype.init=function(){this.initEvent()},t.prototype.getHiddenPropertyName=function(t){return t?t+"Hidden":"hidden"},t.prototype.getVisibilityEvent=function(t){return(t||"")+"visibilitychange"},t.prototype.getBrowserPrefix=function(){for(var t=0;t<this.browserPrefixes.length;t++)if(this.getHiddenPropertyName(this.browserPrefixes[t])in document)return this.browserPrefixes[t];return null},t.prototype.onVisible=function(){this.isVisible||(this.isVisible=!0,this.onEventVisible&&this.onEventVisible())},t.prototype.onHidden=function(){this.isVisible&&(this.isVisible=!1,this.onEventHidden&&this.onEventHidden())},t.prototype.handleVisibilityChange=function(t){return"boolean"==typeof t?t?this.onVisible():this.onHidden():document[this.hiddenPropertyName]?this.onHidden():this.onVisible()},t.prototype.initEvent=function(){var t=this;document.addEventListener(this.visibilityEventName,(function(){t.handleVisibilityChange("khong can")}),!1),document.addEventListener("focus",(function(){t.handleVisibilityChange(!0)}),!1),document.addEventListener("blur",(function(){t.handleVisibilityChange(!1)}),!1),window.addEventListener("focus",(function(){t.handleVisibilityChange(!0)}),!1),window.addEventListener("blur",(function(){t.handleVisibilityChange(!1)}),!1),t.handleVisibilityChange("visible"==document.visibilityState)},t}();var y=function(){function t(t){this.plinkoSocket=t}return t.prototype.playGame=function(){if(o.acceptBet()){var t=this;this.disableButtonPlay(),this.plinkoSocket.sendPlayRequest(!1),setTimeout((function(){t.enableButtonPlay()}),o.TIME_EACH_BALL)}},t.prototype.disableButtonPlay=function(){var t=e._("button.play");t&&(t.disabled=!0)},t.prototype.enableButtonPlay=function(){var t=e._("button.play");t&&(t.disabled=!1)},t.prototype.disableQtyBox=function(){var t=e._(".qty_box");t&&t.classList.add("disabled")},t.prototype.enableQtyBox=function(){var t=e._(".qty_box");t&&t.classList.remove("disabled")},t.prototype.disableRiskBox=function(){var t=e._(".risk_level");t&&t.classList.add("disabled")},t.prototype.enableRiskBox=function(){var t=e._(".risk_level");t&&t.classList.remove("disabled")},t.prototype.guiForAutoMode=function(){this.disableButtonPlay(),this.enableQtyBox(),this.disableRiskBox()},t.prototype.guiForManualMode=function(){this.enableButtonPlay(),this.disableQtyBox(),this.enableRiskBox()},t.prototype.init=function(){var t=this;e._("button.play").addEventListener("click",(function(e){t.playGame()})),this.initEvent(),this.detectInactive(),this.loadPlinkoHistoryGame(),this.loadGuiFromLocalStorage()},t.prototype.initEvent=function(){var t=this,n=document.querySelectorAll(".label_choose.mode");e._(".qty_box input[name='qty']").addEventListener("input",(function(e){t.updateLocalStorage()})),n.forEach((function(e,n){e.addEventListener("click",(function(e){o.isAutoMode()?t.guiForAutoMode():t.guiForManualMode(),t.updateLocalStorage()}))})),document.querySelectorAll(".label_choose.risk").forEach((function(e,n){e.addEventListener("click",(function(e){t.updateLocalStorage()}))})),document.addEventListener("game_inited",(function(){o.GAME_INITED=!0}))},t.prototype.loadGuiFromLocalStorage=function(){e._(".qty_box input[name='qty']").value=i.getQty(),i.getMode(),e._('.label_choose.mode input[value="'.concat(i.getMode(),'"]')).checked=!0,e._('.label_choose.risk input[value="'.concat(i.getType(),'"]')).checked=!0,o.isAutoMode()?this.guiForAutoMode():this.guiForManualMode()},t.prototype.updateLocalStorage=function(){var t=e._(".qty_box input[name='qty']").value,n=e._(".label_choose.risk input:checked").value,o=e._(".label_choose.mode input:checked").value;i.setConfigGame(t,o,n)},t.prototype.detectInactive=function(){var t=this,e=new _;e.onEventHidden=function(){t.showBlurPopupIfInactive(!0)},e.onEventVisible=function(){t.showBlurPopupIfInactive(!1)},e.init()},t.prototype.showBlurPopupIfInactive=function(t){t?(e._("#game").classList.add("inactive"),e._("#warning-inactive").classList.remove("d-none"),i.setInactive(1)):(e._("#game").classList.remove("inactive"),e._("#warning-inactive").classList.add("d-none"),i.setInactive(0))},t.prototype.updateCountDownPlayBox=function(t){if(t<=parseInt(PLINKO_CONFIG.LAST_POINT_TO_BET)){e.flex(e._(".ready"));var n=t%60|0;n=n<10?"0"+n:String(n),e._(".ready .time").innerHTML='<span class="item">'.concat(n.substr(0,1),'</span>\n                <span class="item">').concat(n.substr(1,1),"</span>")}else e.none(e._(".ready"))},t.prototype.updateCountDownMain=function(t,n){var o=e._("#game-plinko-time-box").querySelector(".out .number");o&&(o.innerHTML='\n                <div class="item">'.concat(t.substr(0,1),'</div>\n                <div class="item">').concat(t.substr(1,1),'</div>\n                <div class="item c-row c-row-middle">:</div>\n                <div class="item">').concat(n.substr(0,1),'</div>\n                <div class="item">').concat(n.substr(1,1),"</div>\n            "))},t.prototype.updateCountDownFullBox=function(t,e){var n=e;n=(n=Math.abs(n))<10?"0"+n:""+n;for(var o="",i=0;i<n.length;i++)o+='<span class="item m-r-20">'.concat(n.charAt(i),"</span>");t.innerHTML=o},t.prototype.updateCountDownBall=function(){var t=e._(".count_down_ball");if(o.isAutoMode()){e.flex(t);var n=t.querySelector("span"),r=i.getQty();n.innerText=r-i.getCountCurrentBall()}else e.none(t)},t.prototype.loadPlinkoHistoryGame=function(){var t=this,e=document.querySelector("#game-gowin-history");e&&XHR.send({url:"get-game-plinko-history",method:"GET"}).then((function(n){200==n.code&&n.html&&(e.innerHTML=n.html,t.initPaginateBox(e))}))},t.prototype.initPaginateBox=function(t,e){void 0===e&&(e=null);var n=this;t.querySelectorAll(".paginate-box-link-btn.action").forEach((function(o){""!=o.dataset.href&&o.addEventListener("click",(function(){XHR.send({url:this.dataset.href,method:"GET"}).then((function(o){200==o.code&&o.html&&(t.innerHTML=o.html,n.initPaginateBox(t,e),e&&BASE_SUPPORT.callFunction(e))}))}))}))},t}();const m=y;var v=new d(new n(SOCKET_URL)),g=new m(v),E=new a(v,g);v.onOpenSocketCallback=function(){g.init()},v.onInitGameCallback=function(t){E.initInfo(t),g.loadPlinkoHistoryGame()},v.init()})();
