var plinko;(()=>{"use strict";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{PlinkoGameManager:()=>g});const n=function(){function t(){}return t.showLoading=function(){BASE_GUI.showLoading()},t.createFlashNotify=function(t,e){void 0===e&&(e=!0),BASE_GUI.createFlashNotify(t,e)},t.hideLoading=function(){BASE_GUI.hideLoading()},t}(),o=function(){function t(){}return t.all=function(t){return document.querySelectorAll(t)},t._=function(t){return document.querySelector(t)},t.flex=function(t){t.style.display="flex"},t.none=function(t){t.style.display="none"},t.on=function(t,e,n){document.addEventListener(t,(function(t){for(var o=t.target;o&&o!=this;o=o.parentNode)if(o.matches(e)){n(t);break}}),!1)},t}(),i=function(){function t(t){void 0===t&&(t="ws://localhost:8888/"),this.socketUrl=t,this.connecter=null,this.wsReady=!1,this.openListeners=[],this.messageListeners=[],this.closeListeners=[],this.errorListeners=[]}return t.prototype.addOpenListener=function(t){t&&this.openListeners.push(t)},t.prototype.addMessageListener=function(t){t&&this.messageListeners.push(t)},t.prototype.addCloseListener=function(t){t&&this.closeListeners.push(t)},t.prototype.addErrorListener=function(t){t&&this.errorListeners.push(t)},t.prototype.sendData=function(t,e){void 0===e&&(e=!0),e&&n.showLoading(),this.wsReady?this.connecter.send(t):n.createFlashNotify("Không thể kết nối tới server",!1)},t.prototype.init=function(){var t=o._("input[name=auth_token]");if(t){var e=t.value,n=this.socketUrl+"?auth_token=".concat(e);this.connecter=new WebSocket(n);var i=this;this.connecter.onopen=function(t){i.wsReady=!0;for(var e=0,n=i.openListeners;e<n.length;e++)(0,n[e])(t)},this.connecter.onmessage=function(t){for(var e=0,n=i.messageListeners;e<n.length;e++){var o=n[e],r={};t.data&&(r=JSON.parse(t.data)),o(t,r)}},this.connecter.onclose=function(t){i.wsReady=!1;for(var e=0,n=i.closeListeners;e<n.length;e++)(0,n[e])(t)},this.connecter.onerror=function(t){i.wsReady=!1;for(var e=0,n=i.errorListeners;e<n.length;e++)(0,n[e])(t)}}},t}(),r=function(){function t(){}return Object.defineProperty(t,"currentGameInfo",{get:function(){return t._currentGameInfo},set:function(e){t._currentGameInfo=e},enumerable:!1,configurable:!0}),t.isAutoMode=function(){return"auto"==o._(".label_choose input[name=mode]:checked").value},t.setTimeBet=function(){var t=(new Date).getTime();this.lastTimeBet=t},t.acceptBet=function(){return(new Date).getTime()-this.lastTimeBet>this.TIME_EACH_BALL},t.TIME_EACH_BALL=1e3,t.GAME_INITED=!1,t._currentGameInfo={},t.lastTimeBet=0,t}(),a=function(){function t(){}return t.isInactive=function(){var e=sessionStorage.getItem(t.KEY_PLINKO_INACTIVE);return null!=e&&1==e},t.setInactive=function(e){sessionStorage.setItem(t.KEY_PLINKO_INACTIVE,e)},t.getQty=function(){var e=localStorage.getItem(t.KEY_PLINKO_QTY);return null==e?1:e},t.getMode=function(){var e=localStorage.getItem(t.KEY_PLINKO_MODE);return null==e?"manual":e},t.getType=function(){var e=localStorage.getItem(t.KEY_PLINKO_TYPE);return null==e?2:e},t.setConfigGame=function(e,n,o){localStorage.setItem(t.KEY_PLINKO_QTY,e),localStorage.setItem(t.KEY_PLINKO_TYPE,o),localStorage.setItem(t.KEY_PLINKO_MODE,n)},t.getCountCurrentBall=function(){var t=sessionStorage.getItem(this.KEY_PLINKO_CURRENT_COUNT_BALL_AUTO_MODE);return null==t?0:parseInt(t)},t.resetCountCurrentBall=function(){sessionStorage.setItem(this.KEY_PLINKO_CURRENT_COUNT_BALL_AUTO_MODE,"0")},t.incrementCountCurrentBall=function(){var t=this.getCountCurrentBall();t++,sessionStorage.setItem(this.KEY_PLINKO_CURRENT_COUNT_BALL_AUTO_MODE,String(t))},t.KEY_PLINKO_INACTIVE="plinko_inactive",t.KEY_PLINKO_QTY="plinko_qty",t.KEY_PLINKO_MODE="plinko_mode",t.KEY_PLINKO_TYPE="plinko_type",t.KEY_PLINKO_BETTED="plinko_betted",t.KEY_PLINKO_CURRENT_COUNT_BALL_AUTO_MODE="plinko_current_count_ball",t}(),s=function(){function t(t,e){this.plinkoSocket=t,this.plinkoUi=e,this.interValGameTime=null,this.timeRemaining=0,this.gamePlinkoTimeBox=o._("#game-plinko-time-box")}return t.prototype.initInfo=function(t){var e;if(this.gamePlinkoTimeBox&&t.html){this.gamePlinkoTimeBox.innerHTML=t.html,this.timeRemaining=null!==(e=t.time_remaining)&&void 0!==e?e:0,a.resetCountCurrentBall(),this.interValGameTime&&clearInterval(this.interValGameTime);var n=this;n.runMainLoop(),this.interValGameTime=setInterval((function(){n.runMainLoop()}),1e3)}},t.prototype.runMainLoop=function(){var t=this.timeRemaining/60|0,e=this.timeRemaining%60|0;t=t<10?"0"+t:String(t),e=e<10?"0"+e:String(e),this.timeRemaining<=0?this.refreshGame():this.plinkoUi.updateCountDownMain(t,e),this.showTimeChecker(),this.autoPlay(),this.plinkoUi.updateCountDownPlayBox(this.timeRemaining),this.plinkoUi.updateCountDownBall(),this.plinkoUi.playBackgroundAudio(),this.timeRemaining--},t.prototype.refreshGame=function(){this.interValGameTime&&clearInterval(this.interValGameTime),a.resetCountCurrentBall(),a.isInactive()?window.location.href=window.location.href:this.plinkoSocket.initGame()},t.prototype.showTimeChecker=function(){var t=o._(".game-betting .mark-box"),e=parseInt(PLINKO_CONFIG.LAST_POINT_TO_COUNT_DOWN);this.timeRemaining<=e?(o.flex(t),this.plinkoUi.updateCountDownFullBox(t,this.timeRemaining)):o.none(t)},t.prototype.autoPlay=function(){var t=r.acceptBet()&&this.hasEnoughTimeToPlay()&&!a.isInactive(),e=this.hasEnoughBall(),n=r.GAME_INITED;r.isAutoMode()&&t&&e&&n&&(this.plinkoUi.disableButtonPlay(),this.plinkoSocket.sendPlayRequest(!1),a.incrementCountCurrentBall())},t.prototype.hasEnoughBall=function(){var t=a.getQty(),e=PLINKO_CONFIG.MAXIMUM_BALL,n=a.getCountCurrentBall();return t<=e&&t-n>0},t.prototype.hasEnoughTimeToPlay=function(){var t=parseInt(PLINKO_CONFIG.LAST_POINT_TO_BET);return this.timeRemaining>t+3},t}(),c=function(){function t(t){this.psocket=t}return t.prototype.init=function(){var t=this;this.psocket.init(),this.psocket.addOpenListener((function(e){t.onOpenSocket(e)})),this.psocket.addCloseListener((function(e){t.onCloseSocket(e)})),this.psocket.addErrorListener((function(e){t.onErrorSocket(e)})),this.psocket.addMessageListener((function(e,n){t.onMessageSocket(e,n)}))},t.prototype.onOpenSocket=function(t){n.hideLoading()},t.prototype.onCloseSocket=function(t){n.showLoading(),n.createFlashNotify("Không thể kết nối tới server",!1)},t.prototype.onErrorSocket=function(t){n.showLoading(),n.createFlashNotify("Không thể kết nối tới server",!1)},t.prototype.onMessageSocket=function(t,e){n.hideLoading(),e.success&&e.action?this.processMessageData(e):e.message?n.createFlashNotify(e.message):n.createFlashNotify("Lỗi không xác đinh!")},t.prototype.sendData=function(t,e){void 0===e&&(e=!0),this.psocket.sendData(t,e)},t}();const u=function(){function t(){}return Object.defineProperty(t,"currentGameInfo",{get:function(){return t._currentGameInfo},set:function(e){t._currentGameInfo=e},enumerable:!1,configurable:!0}),t.isAutoMode=function(){return"auto"==o._(".label_choose input[name=mode]:checked").value},t._currentGameInfo={},t}();const l=function(){function t(){}return t.isInactive=function(){var e=sessionStorage.getItem(t.KEY_PLINKO_INACTIVE);return null!=e&&1==e},t.setInactive=function(e){sessionStorage.setItem(t.KEY_PLINKO_INACTIVE,e)},t.getQty=function(){var e=localStorage.getItem(t.KEY_PLINKO_QTY);return null==e?1:e},t.getMode=function(){var e=localStorage.getItem(t.KEY_PLINKO_MODE);return null==e?"manual":e},t.getType=function(){var e=localStorage.getItem(t.KEY_PLINKO_TYPE);return null==e?2:e},t.setConfigGame=function(e,n,o){localStorage.setItem(t.KEY_PLINKO_QTY,e),localStorage.setItem(t.KEY_PLINKO_TYPE,o),localStorage.setItem(t.KEY_PLINKO_MODE,n)},t.isGameBetted=function(){try{var e=JSON.parse(sessionStorage.getItem(t.KEY_PLINKO_BETTED))[u.currentGameInfo.current_game_idx];return null!=e&&1==e}catch(t){}return!1},t.setGameStateBet=function(e){try{var n=u.currentGameInfo.current_game_idx,o={};o[n]=e,sessionStorage.setItem(t.KEY_PLINKO_BETTED,JSON.stringify(o))}catch(t){}},t.KEY_PLINKO_INACTIVE="plinko_inactive",t.KEY_PLINKO_QTY="plinko_qty",t.KEY_PLINKO_MODE="plinko_mode",t.KEY_PLINKO_TYPE="plinko_type",t.KEY_PLINKO_BETTED="plinko_betted",t}();var p,d=(p=function(t,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},p(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const h=function(t){function e(e){return t.call(this,e)||this}return d(e,t),e.prototype.onOpenSocket=function(e){t.prototype.onOpenSocket.call(this,e),this.initGame(),this.onOpenSocketCallback&&this.onOpenSocketCallback(e)},e.prototype.initGame=function(){var t={};t.type=connectionGameType,t.action=PLINKO_STATUS.GAME_ACTION_GET_CURRENT_GAME_INFO,this.sendData(JSON.stringify(t))},e.prototype.retrieveResult=function(){var t={};t.type=connectionGameType,t.currentGame=u.currentGameInfo,t.action=PLINKO_STATUS.GAME_ACTION_RETRIEVE_RESULT,this.sendData(JSON.stringify(t))},e.prototype.sendPlayRequest=function(){l.setGameStateBet(1);var t={};t.type=connectionGameType,t.action=PLINKO_STATUS.GAME_ACTION_DO_BET,t.currentGame=u.currentGameInfo;var e={type:o._("[name=risk]:checked").value,mode:o._("[name=mode]:checked").value,qty:o._("[name=qty]").value};t.gameData=e,this.sendData(JSON.stringify(t))},e.prototype.betSuccess=function(t){n.createFlashNotify("Bet thành công.")},e.prototype.processMessageData=function(t){var e;switch(t.action){case PLINKO_STATUS.GAME_ACTION_GET_CURRENT_GAME_INFO:var n=t.data;u.currentGameInfo.current_game_idx=null!==(e=n.current_game_idx)&&void 0!==e?e:"",this.onInitGameCallback&&this.onInitGameCallback(n);break;case PLINKO_STATUS.GAME_ACTION_DO_BET:this.betSuccess(t.data);break;case PLINKO_STATUS.GAME_ACTION_RETRIEVE_RESULT:this.renderBall(t.data)}},e.prototype.renderBall=function(t){return e=this,n=void 0,i=function(){var e,n,o;return function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}(this,(function(i){switch(i.label){case 0:if(!(e=t.games))return[2];n=0,i.label=1;case 1:return n<e.length?(o=e[n],ShortPlinko.createDisc(o.path,o.type),[4,this.sleep(400)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))},new((o=void 0)||(o=Promise))((function(t,r){function a(t){try{c(i.next(t))}catch(t){r(t)}}function s(t){try{c(i.throw(t))}catch(t){r(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(a,s)}c((i=i.apply(e,n||[])).next())}));var e,n,o,i},e.prototype.sleep=function(t){return new Promise((function(e){return setTimeout(e,t)}))},e}(c);var f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.retrieveResult=function(){},e.prototype.sendPlayRequest=function(t){void 0===t&&(t=!0),r.setTimeBet();var e={};e.type=connectionGameType,e.action=PLINKO_STATUS.GAME_ACTION_DO_BET,e.currentGame=r.currentGameInfo;var n={type:o._("[name=risk]:checked").value,mode:o._("[name=mode]:checked").value,qty:o._("[name=qty]").value};e.gameData=n,this.sendData(JSON.stringify(e),t)},e.prototype.betSuccess=function(t){var e=t.games;e&&this.renderBall(e)},e.prototype.processMessageData=function(t){var e;switch(t.action){case PLINKO_STATUS.GAME_ACTION_GET_CURRENT_GAME_INFO:var n=t.data;r.currentGameInfo.current_game_idx=null!==(e=n.current_game_idx)&&void 0!==e?e:"",this.onInitGameCallback&&this.onInitGameCallback(n);break;case PLINKO_STATUS.GAME_ACTION_DO_BET:this.betSuccess(t.data)}},e.prototype.renderBall=function(t){return e=this,n=void 0,i=function(){return function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}(this,(function(e){switch(e.label){case 0:return"undefined"!=typeof ShortPlinko&&ShortPlinko.createDisc(t.path,t.type),[4,this.sleep(500)];case 1:return e.sent(),[2]}}))},new((o=void 0)||(o=Promise))((function(t,r){function a(t){try{c(i.next(t))}catch(t){r(t)}}function s(t){try{c(i.throw(t))}catch(t){r(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(a,s)}c((i=i.apply(e,n||[])).next())}));var e,n,o,i},e.prototype.sleep=function(t){return new Promise((function(e){return setTimeout(e,t)}))},e}(h),m=function(){function t(){this.browserPrefixes=["moz","ms","o","webkit"],this.isVisible=!1,this.browserPrefix=this.getBrowserPrefix(),this.hiddenPropertyName=this.getHiddenPropertyName(this.browserPrefix),this.visibilityEventName=this.getVisibilityEvent(this.browserPrefix)}return t.prototype.init=function(){this.initEvent()},t.prototype.getHiddenPropertyName=function(t){return t?t+"Hidden":"hidden"},t.prototype.getVisibilityEvent=function(t){return(t||"")+"visibilitychange"},t.prototype.getBrowserPrefix=function(){for(var t=0;t<this.browserPrefixes.length;t++)if(this.getHiddenPropertyName(this.browserPrefixes[t])in document)return this.browserPrefixes[t];return null},t.prototype.onVisible=function(){this.isVisible||(this.isVisible=!0,this.onEventVisible&&this.onEventVisible())},t.prototype.onHidden=function(){this.isVisible&&(this.isVisible=!1,this.onEventHidden&&this.onEventHidden())},t.prototype.handleVisibilityChange=function(t){return"boolean"==typeof t?t?this.onVisible():this.onHidden():document[this.hiddenPropertyName]?this.onHidden():this.onVisible()},t.prototype.initEvent=function(){var t=this;document.addEventListener(this.visibilityEventName,(function(){t.handleVisibilityChange("khong can")}),!1),document.addEventListener("focus",(function(){t.handleVisibilityChange(!0)}),!1),document.addEventListener("blur",(function(){t.handleVisibilityChange(!1)}),!1),window.addEventListener("focus",(function(){t.handleVisibilityChange(!0)}),!1),window.addEventListener("blur",(function(){t.handleVisibilityChange(!1)}),!1),t.handleVisibilityChange("visible"==document.visibilityState)},t}(),y=function(){function t(t){this.plinkoSocket=t}return t.prototype.playGame=function(){if(r.acceptBet()){var t=this;this.disableButtonPlay(),this.plinkoSocket.sendPlayRequest(!1),setTimeout((function(){t.enableButtonPlay()}),r.TIME_EACH_BALL)}},t.prototype.disableButtonPlay=function(){var t=o._("button.play");t&&(t.disabled=!0)},t.prototype.enableButtonPlay=function(){var t=o._("button.play");t&&(t.disabled=!1)},t.prototype.disableQtyBox=function(){var t=o._(".qty_box");t&&t.classList.add("disabled")},t.prototype.enableQtyBox=function(){var t=o._(".qty_box");t&&t.classList.remove("disabled")},t.prototype.disableRiskBox=function(){var t=o._(".risk_level");t&&t.classList.add("disabled")},t.prototype.enableRiskBox=function(){var t=o._(".risk_level");t&&t.classList.remove("disabled")},t.prototype.guiForAutoMode=function(){this.disableButtonPlay(),this.enableQtyBox(),this.disableRiskBox()},t.prototype.guiForManualMode=function(){this.enableButtonPlay(),this.disableQtyBox(),this.enableRiskBox()},t.prototype.init=function(){var t=this;o._("button.play").addEventListener("click",(function(e){t.playGame()})),this.initEvent(),this.detectInactive(),this.loadPlinkoHistoryGame(),this.loadGuiFromLocalStorage(),this.initAudio()},t.prototype.initEvent=function(){var t=this,e=document.querySelectorAll(".label_choose.mode");o._(".qty_box input[name='qty']").addEventListener("input",(function(e){t.updateLocalStorage()})),e.forEach((function(e,n){e.addEventListener("click",(function(e){r.isAutoMode()?t.guiForAutoMode():t.guiForManualMode(),t.updateLocalStorage()}))})),document.querySelectorAll(".label_choose.risk").forEach((function(e,n){e.addEventListener("click",(function(e){t.updateLocalStorage()}))})),document.addEventListener("game_inited",(function(){r.GAME_INITED=!0}))},t.prototype.initAudio=function(){setTimeout((function(){"undefined"!=typeof ShortPlinko&&(ShortPlinko.sound().isMute()?o._("#switch_audio").innerHTML='<img src="theme/frontend/img/volume-up-line.png" class="item-volume">':o._("#switch_audio").innerHTML='<img src="theme/frontend/img/volume-off-outline.png" class="item-volume">')}),1e3),o._("#switch_audio").addEventListener("click",(function(){"undefined"!=typeof ShortPlinko&&(this.backgroundSound||(this.backgroundSound=ShortPlinko.sound().getSound("bg")),ShortPlinko.sound().isMute()?(ShortPlinko.sound().unmute(),this.backgroundSound.play(),o._("#switch_audio").innerHTML='<img src="theme/frontend/img/volume-off-outline.png" class="item-volume">'):(ShortPlinko.sound().mute(),o._("#switch_audio").innerHTML='<img src="theme/frontend/img/volume-up-line.png" class="item-volume">',this.backgroundSound.stop()))}))},t.prototype.loadGuiFromLocalStorage=function(){o._(".qty_box input[name='qty']").value=a.getQty(),a.getMode(),o._('.label_choose.mode input[value="'.concat(a.getMode(),'"]')).checked=!0,o._('.label_choose.risk input[value="'.concat(a.getType(),'"]')).checked=!0,r.isAutoMode()?this.guiForAutoMode():this.guiForManualMode()},t.prototype.updateLocalStorage=function(){var t=o._(".qty_box input[name='qty']").value,e=o._(".label_choose.risk input:checked").value,n=o._(".label_choose.mode input:checked").value;a.setConfigGame(t,n,e)},t.prototype.detectInactive=function(){var t=this,e=new m;e.onEventHidden=function(){t.showBlurPopupIfInactive(!0)},e.onEventVisible=function(){t.showBlurPopupIfInactive(!1)},e.init()},t.prototype.showBlurPopupIfInactive=function(t){t?(o._("#game").classList.add("inactive"),o._("#warning-inactive").classList.remove("d-none"),a.setInactive(1)):(o._("#game").classList.remove("inactive"),o._("#warning-inactive").classList.add("d-none"),a.setInactive(0))},t.prototype.updateCountDownPlayBox=function(t){if(t<=parseInt(PLINKO_CONFIG.LAST_POINT_TO_BET)){o.flex(o._(".ready"));var e=t%60|0;e=e<10?"0"+e:String(e),o._(".ready .time").innerHTML='<span class="item">'.concat(e.substr(0,1),'</span>\n                <span class="item">').concat(e.substr(1,1),"</span>")}else o.none(o._(".ready"))},t.prototype.updateCountDownMain=function(t,e){var n=o._("#game-plinko-time-box").querySelector(".out .number");n&&(n.innerHTML='\n                <div class="item">'.concat(t.substr(0,1),'</div>\n                <div class="item">').concat(t.substr(1,1),'</div>\n                <div class="item c-row c-row-middle">:</div>\n                <div class="item">').concat(e.substr(0,1),'</div>\n                <div class="item">').concat(e.substr(1,1),"</div>\n            "))},t.prototype.updateCountDownFullBox=function(t,e){var n=e;n=(n=Math.abs(n))<10?"0"+n:""+n;for(var o="",i=0;i<n.length;i++)o+='<span class="item m-r-20">'.concat(n.charAt(i),"</span>");t.innerHTML=o},t.prototype.updateCountDownBall=function(){var t=o._(".count_down_ball");if(r.isAutoMode()){o.flex(t);var e=t.querySelector("span"),n=a.getQty();e.innerText=n-a.getCountCurrentBall()}else o.none(t)},t.prototype.loadPlinkoHistoryGame=function(){var t=this,e=document.querySelector("#game-gowin-history");e&&XHR.send({url:"get-game-plinko-history",method:"GET"}).then((function(n){200==n.code&&n.html&&(e.innerHTML=n.html,t.initPaginateBox(e))}))},t.prototype.initPaginateBox=function(t,e){void 0===e&&(e=null);var n=this;t.querySelectorAll(".paginate-box-link-btn.action").forEach((function(o){""!=o.dataset.href&&o.addEventListener("click",(function(){XHR.send({url:this.dataset.href,method:"GET"}).then((function(o){200==o.code&&o.html&&(t.innerHTML=o.html,n.initPaginateBox(t,e),e&&BASE_SUPPORT.callFunction(e))}))}))}))},t.prototype.playBackgroundAudio=function(){"undefined"!=typeof ShortPlinko&&(this.backgroundSound=ShortPlinko.sound().playSound("bg",!0))},t}(),g=function(){function t(){}return t.init=function(){var t=new i(SOCKET_URL),e=new _(t),n=new y(e),o=new s(e,n);e.onOpenSocketCallback=function(){n.init()},e.onInitGameCallback=function(t){o.initInfo(t),n.loadPlinkoHistoryGame()},e.init()},t.switchAudio=function(){"undefined"!=typeof ShortPlinko&&(ShortPlinko.sound().playBackgroundSound(),ShortPlinko.sound().isMute()?ShortPlinko.sound().mute():ShortPlinko.sound().unmute())},t}();g.init(),plinko=e})();